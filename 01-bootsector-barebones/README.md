*Concepts you may want to Google beforehand: assembler, BIOS*

**目标：创建BIOS将其解释为可引导磁盘的文件**

这非常令人兴奋，我们将创建自己的引导扇区！

理论
------

当计算机启动时，BIOS不知道如何加载操作系统，所以它将该任务委托给引导扇区。 因此，引导扇区必须是放置在一个已知的标准位置。 该位置是第一个部门磁盘（柱面0，磁头0，扇区0），它需要512个字节。为了确保“磁盘可引导”，BIOS检查该字节所谓的引导扇区的511和512是字节`0xAA55`。

这是有史以来最简单的引导扇区:

```
e9 fd ff 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 另外29行，每行16个零字节 ]
00 00 00 00 00 00 00 00 00 00 00 00 00 00 55 aa
```

它基本上都是零，以16进制值结束`0xAA55`（注意字节序，x86是小端字节序）。前三个字节执行无限跳转

最简单的引导扇区
-------------------------

你可以用二进制编辑器写上面的512个字节，或者只写一个简单的汇编程序代码：

```nasm
; 无限循环 (e9 fd ff)
loop:
    jmp loop 

; 填充510个`0`减去前一代码的大小
times 510-($-$$) db 0
; Magic number
dw 0xaa55 
```

编译:
`nasm -f bin boot_sect_simple.asm -o boot_sect_simple.bin`

> OSX警告：如果出现错误，请再次阅读第00章

我知道你急于尝试（我是！），所以让我们这样做:

`qemu boot_sect_simple.bin`

> 在某些系统上，您可能必须运行`qemu-system-x86_64 boot_sect_simple.bin`如果这给出了SDL错误，请尝试传递`—nographic`或`—curses`标志。

你会看到一个打开的窗口，上面写着“从硬盘启动…”，没有其他的。最后你会看到一个无限循环？;-)